(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{27:function(e,t,a){e.exports=a(61)},32:function(e,t,a){},58:function(e,t,a){},59:function(e,t,a){},60:function(e,t,a){},61:function(e,t,a){"use strict";a.r(t);var n=a(3),r=a(4),o=a(6),c=a(5),i=a(7),s=a(0),l=a.n(s),u=a(21),m=a.n(u);a(32),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var d=a(11),p=a(12),h=a(25),v=(a(58),function(e){function t(){return Object(n.a)(this,t),Object(o.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(i.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return l.a.createElement("nav",null,l.a.createElement(d.b,{exact:!0,to:"/",activeClassName:"selected"},"Home"),l.a.createElement(d.b,{exact:!0,to:"/historico",activeClassName:"selected"},"Historico"))}}]),t}(s.Component)),f=(a(59),function(e){function t(){var e;Object(n.a)(this,t),e=Object(o.a)(this,Object(c.a)(t).call(this));var a=localStorage.getItem("historico");return a=a?JSON.parse(a):[],e.state={lista:a},e}return Object(i.a)(t,e),Object(r.a)(t,[{key:"formatData",value:function(e){var t=e.split("-");return"".concat(t[2],".").concat(t[1],".").concat(t[0])}},{key:"render",value:function(){var e=this,t=this.state.lista;return l.a.createElement("section",{className:"historico"},l.a.createElement(v,null),l.a.createElement("h2",null,"Historico"),t.map(function(t){return l.a.createElement("div",{className:"hisItem",key:t.indice},l.a.createElement("div",{className:"header"},t.local," - ",t.produtos.length," produtos ",l.a.createElement("span",{className:"data"},e.formatData(t.data))),l.a.createElement("div",{className:"body"},t.produtos.map(function(e,t){return l.a.createElement("div",{className:"hisProduto",key:t},l.a.createElement("div",{className:"header"},e.nome),l.a.createElement("div",{className:"body"},e.resultado))})))}))}}]),t}(s.Component)),b=a(26),E=(a(60),function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(o.a)(this,Object(c.a)(t).call(this,e))).state={quantidade:0,preco:0,resultado:0,nome:""},a.props=e,a}return Object(i.a)(t,e),Object(r.a)(t,[{key:"calculaResultado",value:function(e){var t=this.state.quantidade;if("quantidade"===e.target.name){if(t=parseFloat(e.target.value),isNaN(t))return;e.target.value=t}var a=this.state.preco;if("preco"===e.target.name){if(a=parseFloat(e.target.value),isNaN(a))return;e.target.value=a}var n=0;a>0&&(n=Math.round(t/a*1e3)/1e3),this.setState({resultado:n,quantidade:t,preco:a})}},{key:"setProduto",value:function(e){this.setState({nome:e})}},{key:"Salvar",value:function(){0!==this.state.resultado&&(this.props.onNovo(this.state),this.setState({quantidade:0,preco:0,resultado:0,nome:""}))}},{key:"render",value:function(){var e=this;return l.a.createElement("div",null,l.a.createElement("div",{className:"name-control"},l.a.createElement("span",null,"Produto"),l.a.createElement("input",{type:"text",name:"nome",value:this.state.nome,placeholder:"digite o nome do produto",onChange:function(t){return e.setProduto(t.target.value)}})),l.a.createElement("div",{className:"ProdutoForm"},l.a.createElement("div",{className:"form-control"},l.a.createElement("span",null,"Quantidade"),l.a.createElement("input",{type:"number",name:"quantidade",value:this.state.quantidade,onChange:function(t){return e.calculaResultado(t)}})),l.a.createElement("div",{className:"form-control"},l.a.createElement("span",null,"Pre\xe7o"),l.a.createElement("input",{type:"number",name:"preco",value:this.state.preco,onChange:function(t){return e.calculaResultado(t)}})),l.a.createElement("div",{className:"form-control"},l.a.createElement("span",null,"Pre\xe7o / Produto"),l.a.createElement("input",{type:"number",value:this.state.resultado,readOnly:!0}))),l.a.createElement("div",{className:"btn"},l.a.createElement("button",{type:"button",onClick:function(){return e.Salvar()}},"adicionar")))}}]),t}(s.Component)),y=function(e){function t(){var e;return Object(n.a)(this,t),(e=Object(o.a)(this,Object(c.a)(t).call(this))).quantidade=0,e.preco=0,e.resultado=0,e.nome="Produto",e.indice=0,e}return Object(i.a)(t,e),Object(r.a)(t,[{key:"componentWillMount",value:function(){this.quantidade=this.props.quantidade,this.preco=this.props.preco,this.resultado=this.props.resultado,this.nome=this.props.nome,this.indice=this.props.indice}},{key:"render",value:function(){return l.a.createElement("section",{className:"Produto"},l.a.createElement("div",{className:"header"},this.indice,". ",this.nome),l.a.createElement("div",{className:"body"},l.a.createElement("span",{className:"info"},this.quantidade," / R$ ",this.preco),l.a.createElement("span",{className:"result"},this.resultado)))}}]),t}(s.Component),N=function(e){function t(e){var a;Object(n.a)(this,t),a=Object(o.a)(this,Object(c.a)(t).call(this,e));var r=new Date;return r=r.toISOString().split("T")[0],a.local="",a.data=r,a.indice=0,a.state={local:"",data:r,indice:0},a}return Object(i.a)(t,e),Object(r.a)(t,[{key:"Salvar",value:function(e){this.props.onSalvar(this.state)}},{key:"Cancelar",value:function(){this.props.onCancelar()}},{key:"setLocal",value:function(e){this.setState({local:e})}},{key:"setData",value:function(e){this.setState({data:e})}},{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"ListaForm"},l.a.createElement("div",{className:"wrapper"},l.a.createElement("h2",{className:"mb2"},"Salvar no hist\xf3rico"),l.a.createElement("div",{className:"name-control mb2"},l.a.createElement("span",null,"Local"),l.a.createElement("input",{type:"text",name:"local",value:this.state.local,placeholder:"digite o local das compras",onChange:function(t){return e.setLocal(t.target.value)}})),l.a.createElement("div",{className:"name-control mb2"},l.a.createElement("span",null,"data"),l.a.createElement("input",{type:"date",name:"data",value:this.state.data,onChange:function(t){return e.setData(t.target.value)}})),l.a.createElement("div",{className:"btn"},l.a.createElement("button",{type:"button",onClick:function(){return e.Salvar()}},"Salvar & Limpar"),l.a.createElement("button",{type:"button",className:"red",onClick:function(){return e.Cancelar()}},"Cancelar"))))}}]),t}(s.Component),O=function(e){function t(){var e;return Object(n.a)(this,t),(e=Object(o.a)(this,Object(c.a)(t).call(this))).srcHistorico=null,e.state={produtos:[],isSalvarForm:!1,isHistorico:!1},e}return Object(i.a)(t,e),Object(r.a)(t,[{key:"AdicionarNovo",value:function(e){var t=new y;t.quantidade=e.quantidade,t.preco=e.preco,t.resultado=e.resultado,t.nome=e.nome,t.indice=e.indice|this.state.produtos.length+1;var a=this.state.produtos;a.push(t),a=Object(b.a)(a).sort(function(e,t){return e.resultado-t.resultado}),this.setState({produtos:a})}},{key:"Limpar",value:function(){this.setState({produtos:[],isSalvarForm:!1})}},{key:"SalvarCancelarDiag",value:function(){this.setState({isSalvarForm:!1})}},{key:"SalvarAbrirDiag",value:function(){this.setState({isSalvarForm:!0})}},{key:"Salvar",value:function(e){if(0!==this.state.produtos.length){var t=[];this.state.produtos.map(function(e){return t.push({quantidade:e.quantidade,preco:e.preco,resultado:e.resultado,nome:e.nome,indice:e.indice})});var a=localStorage.getItem("historico");(a=a?JSON.parse(a):[]).push({local:e.local,data:e.data,indice:a.length+1,produtos:t}),localStorage.setItem("historico",JSON.stringify(a)),this.Limpar()}}},{key:"HistoricoAbrirDiag",value:function(){this.srcHistorico&&(this.srcHistorico.className="HistoricoScreen"),this.setState({isHistorico:!0})}},{key:"HistoricoFecharDiag",value:function(){this.srcHistorico.className="HistoricoScreenClosed"}},{key:"render",value:function(){var e=this,t=this.state.produtos;return l.a.createElement("div",null,l.a.createElement(v,null),l.a.createElement("div",{className:"MainScreen"},l.a.createElement(E,{onNovo:function(t){return e.AdicionarNovo(t)}}),l.a.createElement("h2",null,"valores calculados",l.a.createElement("button",{className:"optbtn green",onClick:function(){return e.SalvarAbrirDiag()}},"salvar"),l.a.createElement("button",{className:"optbtn red",onClick:function(){return e.Limpar()}},"limpar")),l.a.createElement("div",{className:"lista"},t.map(function(e,t){return l.a.createElement(y,{indice:t+1,nome:e.nome,quantidade:e.quantidade,preco:e.preco,resultado:e.resultado,key:e.indice})}))),this.state.isSalvarForm&&l.a.createElement(N,{onSalvar:function(t){return e.Salvar(t)},onCancelar:function(){return e.SalvarCancelarDiag()}}))}}]),t}(s.Component),S=function(e){function t(){return Object(n.a)(this,t),Object(o.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(i.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return l.a.createElement(d.a,null,l.a.createElement(h.a,{atEnter:{opacity:0},atLeave:{opacity:0},atActive:{opacity:1},className:"switch-wrapper"},l.a.createElement(p.a,{path:"/historico",component:f}),l.a.createElement(p.a,{path:"/",exact:!0,component:O})))}}]),t}(l.a.Component);m.a.render(l.a.createElement(S,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[27,1,2]]]);
//# sourceMappingURL=main.4623cafe.chunk.js.map